{% extends "base.html" %}

{% block title %}Teams - IPL 2024{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-text">
        <p id="welcomeMessage" style="display: none;">Enjoy the best cricket action from top teams!</p>
    </div>
</section>

<!-- Teams Section -->
<section class="text">
    <div class="head">
        <h1>TEAMS</h1>
    </div>
    <div class="team-container">
        {% for team in teams %}
        <div class="team" id="{{ team.id }}">
            <img src="{{ team.logo }}" alt="{{ team.name }} Logo" class="team-logo">
            <p>{{ team.name }}</p>
            <button class="view-details" onclick="viewTeamDetails('{{ team.id }}')">View Details</button>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Ticket Booking Popup -->
<div id="ticketModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2>Book IPL Tickets</h2>
        <form id="ticket-form">
            <label for="team">Select Team:</label>
            <select id="team" required>
                {% for team in teams %}
                <option value="{{ team.id }}">{{ team.name }}</option>
                {% endfor %}
            </select>
            <label for="quantity">Ticket Quantity:</label>
            <input type="number" id="quantity" required min="1" max="10">
            <button type="submit">Book Tickets</button>
        </form>
    </div>
</div>

<script>
    // Show welcome message on button click
    function showWelcomeMessage() {
        document.getElementById('welcomeMessage').style.display = 'block';
    }

    // Display team details dynamically
    function viewTeamDetails(teamId) {
        alert("Details of " + teamId + " will be available soon!");
    }

    // Ticket Booking Modal
    function openModal() {
        document.getElementById('ticketModal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('ticketModal').style.display = 'none';
    }

    // Booking Tickets
    document.getElementById('ticket-form').addEventListener('submit', function(event) {
        event.preventDefault();
        const team = document.getElementById('team').value;
        const quantity = document.getElementById('quantity').value;
        alert(`Tickets for ${team} have been booked! Quantity: ${quantity}`);
        closeModal();
    });
</script>
{% endblock %}
